<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>í˜„ì¬ì˜ ê³µê°„ â€” ì˜¤ëŠ˜ì˜ ìš´ì„¸ & í–‰ìš´ ìŒë£Œ</title>

<link rel="preconnect" href="https://cdn.jsdelivr.net" />
<link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet" />

<style>
  :root{
    /* í™”ì´íŠ¸ ë°°ê²½ + ê·¸ë¦° í¬ì¸íŠ¸ */
    --bg:#ffffff;           /* ì „ì²´ ë°°ê²½ */
    --card:#ffffff;         /* ì¹´ë“œ ë°°ê²½ */
    --ink:#1f2937;          /* ë³¸ë¬¸ í…ìŠ¤íŠ¸ */
    --muted:#6b7280;        /* ë³´ì¡° í…ìŠ¤íŠ¸ */
    --accent:#16a34a;       /* í¬ì¸íŠ¸(ë²„íŠ¼/ê²Œì´ì§€) emerald-600 */
    --accent-3:#d1fae5;     /* ê²Œì´ì§€ ë°±ê·¸ë¼ìš´ë“œ emerald-100 */
    --chip:#f3f4f6;         /* ì¹© ë°°ê²½(ë°ì€ íšŒìƒ‰) */
    --chip-text:#374151;    /* ì¹© í…ìŠ¤íŠ¸ */
    --border:#e5e7eb;       /* ì¹´ë“œ í…Œë‘ë¦¬ */
    --shadow:0 8px 28px rgba(0,0,0,.07);
    --radius:18px;
  }
  *{box-sizing:border-box}
  body{
    font-family:Pretendard,system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Malgun Gothic,sans-serif;
    background:var(--bg); color:var(--ink); margin:0;
  }
  .wrap{max-width:680px;margin:0 auto;padding:24px 18px 32px}
  .brand{display:flex;align-items:center;gap:12px;margin:6px 0 18px}
  .brand img{width:42px;height:42px;object-fit:cover;border-radius:10px;box-shadow:var(--shadow);background:#fff}
  .brand h1{font-size:18px;margin:0;font-weight:700;letter-spacing:.3px}

  .card{
    background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
    padding:20px;margin:16px 0;border:1px solid var(--border);
  }
  .title{font-size:22px;margin:0 0 6px;font-weight:800}
  .desc{color:var(--muted);line-height:1.65;margin:4px 0 0}

  .section-title{display:flex;justify-content:space-between;align-items:center;gap:12px}

  .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
  .chip{background:var(--chip);color:var(--chip-text);padding:6px 10px;border-radius:999px;font-size:12px}
  .chip .mono{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;letter-spacing:1px}

  .hint{color:var(--muted);font-size:12px;margin-top:6px}

  .row{display:flex;justify-content:space-between;align-items:center;margin:10px 0}
  .bar{height:10px;background:var(--accent-3);border-radius:999px;overflow:hidden}
  .fill{height:100%;background:var(--accent)}

  .pill{display:inline-flex;align-items:center;gap:8px;background:#111827;color:#fff;border-radius:999px;padding:6px 10px;font-size:12px}
  .color-pill{background:#111827}
  .swatch{width:12px;height:12px;border-radius:999px;border:1px solid rgba(255,255,255,.5);display:inline-block}

  .drink{display:flex;gap:12px;align-items:center}
  .drink img{width:72px;height:72px;border-radius:12px;object-fit:cover;background:#f3f4f6;box-shadow:var(--shadow)}
  .drink .name{font-size:22px;font-weight:800;margin-bottom:4px}
  .drink .note{color:var(--muted);font-size:13px}

  .foot{font-size:12px;color:var(--muted);text-align:center;margin-top:12px}
  .code{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;letter-spacing:1px}

  .btn{
    appearance:none;border:0;background:var(--accent);color:#fff;border-radius:12px;
    padding:12px 16px;font-weight:700;cursor:pointer;box-shadow:var(--shadow)
  }
  .btn:active{transform:translateY(1px)}

  /* í• ì¸ ì•ˆë‚´ ë°°ë„ˆ */
  .notice{
    display:flex;gap:10px;align-items:flex-start;
    background:#ecfdf5;border:1px dashed var(--accent);color:#065f46;
    padding:12px 14px;border-radius:14px;font-size:14px
  }
</style>
</head>
<body>
<div class="wrap">
  <!-- ìƒë‹¨ ë¡œê³  + ë¸Œëœë“œ ë„¤ì„ -->
  <div class="brand">
    <img src="logo.jpg" alt="í˜„ì¬ì˜ ê³µê°„ ë¡œê³ " onerror="this.style.display='none'">
    <h1>í˜„ì¬ì˜ ê³µê°„ â€¢ ì˜¤ëŠ˜ì˜ ìš´ì„¸</h1>
  </div>

  <!-- ìš´ì„¸ -->
  <div class="card">
    <div class="section-title">
      <div>
        <!-- ìš”ì²­: 'ê³ ê°ë‹˜ì˜ ì˜¤ëŠ˜ì˜ ìš´ì„¸' -> 'ì˜¤ëŠ˜ì˜ ìš´ì„¸' -->
        <div class="title">ì˜¤ëŠ˜ì˜ ìš´ì„¸</div>
        <div id="fortuneText" class="desc"></div>
      </div>
      <!-- ìš”ì²­: ê³µìœ  ë²„íŠ¼ ì´ˆë¡ìƒ‰ -->
      <button id="shareBtn" class="btn">ê³µìœ í•˜ê¸°</button>
    </div>

    <div class="chips">
      <div class="chip">ìœ íš¨ê¸°ê°„ <span id="validUntil" class="mono"></span></div>
      <div class="chip">í™•ì¸ì½”ë“œ <span id="dailyCode" class="mono"></span></div>
    </div>
    <div class="hint">* í™”ë©´ ìº¡ì²˜ ì§€ì°¸ ì‹œ <b>3ì¼ ì´ë‚´</b> ì‚¬ìš© ê°€ëŠ¥ (ìœ íš¨ì¼ìÂ·ì½”ë“œ í™•ì¸)</div>
  </div>

  <!-- ì ìˆ˜ (ìš”ì²­: ì´ˆë¡ìƒ‰ ë°”) -->
  <div class="card">
    <div class="title">ì ìˆ˜</div>
    <div id="scores"></div>
  </div>

  <!-- í–‰ìš´ í‚¤ì›Œë“œ (ìš”ì²­: ì»¬ëŸ¬ëŠ” ìƒ‰ìƒìœ¼ë¡œ í‘œì‹œ) -->
  <div class="card">
    <div class="title">í–‰ìš´ í‚¤ì›Œë“œ</div>
    <div class="row"><div>ìˆ«ì</div><div id="kwNumber" class="pill"></div></div>
    <div class="row"><div>ë°©í–¥</div><div id="kwDir" class="pill"></div></div>
    <div class="row"><div>ì»¬ëŸ¬</div><div id="kwColor" class="pill color-pill"></div></div>
    <div class="row"><div>ìŒì‹</div><div id="kwFood" class="pill"></div></div>
  </div>

  <!-- ì˜¤ëŠ˜ì˜ í–‰ìš´ ìŒë£Œ -->
  <div class="card">
    <div class="title">ì˜¤ëŠ˜ì˜ í–‰ìš´ ìŒë£Œ</div>
    <div class="drink">
      <img id="drinkImg" alt="drink"/>
      <div>
        <div id="drinkName" class="name"></div>
        <div id="drinkNote" class="note"></div>
      </div>
    </div>
    <!-- ìš”ì²­: ìº¡ì²˜ í›„ ê°€ì ¸ì˜¤ë©´ 1,000ì› í• ì¸ ì•ˆë‚´ -->
    <div class="notice" style="margin-top:14px;">
      <div>ğŸ’š</div>
      <div><b>ìº¡ì²˜ ì œì‹œ ì‹œ ì¶”ì²œ ìŒë£Œ 1,000ì› í• ì¸</b><br>
        (ì‚¬ìš©ê¸°í•œ: <span id="validUntil2"></span> 23:59 Â· ìœ íš¨ì¼ìÂ·í™•ì¸ì½”ë“œ ì¼ì¹˜ ì‹œ ì ìš©)</div>
    </div>
  </div>

  <div class="foot">
    í˜ì´ì§€ ìƒì„± (KST): <span id="nowKST"></span>
    <br/>ì§€ì /ìº í˜ì¸: <span id="shopId" class="code"></span>
  </div>
</div>

<script>
(function(){
  // ---- KST ê¸°ì¤€ ë‚ ì§œ/ì‹œê°„ ----
  const nowUTC = new Date();
  const nowKST = new Date(nowUTC.getTime() + 9*60*60*1000);
  const yyyy = nowKST.getUTCFullYear();
  const mm = String(nowKST.getUTCMonth()+1).padStart(2,'0');
  const dd = String(nowKST.getUTCDate()).padStart(2,'0');
  const todayStr = `${yyyy}-${mm}-${dd}`;

  // ---- URL íŒŒë¼ë¯¸í„° ----
  const params = new URLSearchParams(location.search);
  const shop = (params.get('id') || 'default').toLowerCase();
  const useShuffle = (params.get('mode') === 'shuffle'); // ì„ê¸° ëª¨ë“œ

  // ---- ìš´ì„¸(40ê°œ) ----
  const fortunes = [
    "ì£¼ë³€ì˜ ë°°ë ¤ê°€ ë¹›ë‚˜ëŠ” ë‚ ì…ë‹ˆë‹¤. ì‘ì€ ì¹œì ˆì—ë„ ë§ˆìŒì´ ë”°ëœ»í•´ì§€ê³ , ë‹¹ì‹ ì´ ì „í•œ ê°ì‚¬ëŠ” ìƒê°ë³´ë‹¤ ë¹ ë¥´ê²Œ ëŒì•„ì˜µë‹ˆë‹¤. ì˜¤ëŠ˜ì€ â€˜ê³ ë§™ë‹¤â€™ëŠ” ë§ì„ ì¡°ê¸ˆ ë” ìì£¼, ì¡°ê¸ˆ ë” ì§„ì‹¬ìœ¼ë¡œ ê±´ë„¤ë³´ì„¸ìš”.",
    "í•´ì•¼ í•  ì¼ì˜ íë¦„ì´ í•œ ì¤„ë¡œ ì •ë¦¬ë˜ëŠ” ë‚ . ë¯¸ë¤„ë‘” ì¼ì˜ ì²« ë‹¨ì¶”ë¥¼ ë¼ìš°ë©´ ê·¸ë‹¤ìŒì€ ì˜ì™¸ë¡œ ê°€ë³ê²Œ í’€ë¦½ë‹ˆë‹¤. ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§¨ ìœ„ í•œ ê°€ì§€ë¥¼ ì§€ê¸ˆ ì‹œì‘í•´ ë³´ì„¸ìš”â€”ì˜¤ëŠ˜ì˜ ì§‘ì¤‘ë ¥ì´ ë„ì™€ì¤„ ê±°ì˜ˆìš”.",
    "ì‚¬ëŒê³¼ ì‚¬ëŒ ì‚¬ì´ì˜ ì˜¨ë„ê°€ í¬ê·¼í•´ì§€ëŠ” ë‚ . ëŒ€í™” ì†ì—ì„œ ìƒˆë¡œìš´ íŒíŠ¸ë¥¼ ì–»ê³ , ì˜¤ë˜ ê³ ë¯¼í•˜ë˜ ë¬¸ì œëŠ” ì˜ì™¸ì˜ ë§ í•œë§ˆë””ë¡œ ì‹¤ë§ˆë¦¬ë¥¼ ì°¾ìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ì€ â€˜ë“£ëŠ” ì‹œê°„â€™ì„ ì¡°ê¸ˆ ë” ê¸¸ê²Œ ê°€ì ¸ë³´ì„¸ìš”.",
    "ê°ê°ì´ ë§‘ì•„ì§€ëŠ” ë‚ ì…ë‹ˆë‹¤. ì¢‹ì•„í•˜ëŠ” í–¥ì„ ë§¡ê³ , ê°€ë³ê²Œ ê±·ê³ , ì°¨ í•œ ì”ì„ ì²œì²œíˆ ë§ˆì…” ë³´ì„¸ìš”. ì‚¬ì†Œí•œ ë£¨í‹´ì´ ë§ˆìŒì˜ ì†ë„ë¥¼ ë‚®ì¶°ì£¼ê³ , ì¢‹ì€ ì„ íƒì„ ë„ì™€ì¤„ ê±°ì˜ˆìš”.",
    "ì‘ì€ í–‰ìš´ì´ ì—°ë‹¬ì•„ ë“¤ì–´ì˜¤ëŠ” ë‚ . ìš°ì—°ì²˜ëŸ¼ ë³´ì´ëŠ” ê¸°íšŒê°€ ë³´ì´ë©´ ê°€ë³ê²Œ ì¡ì•„ë³´ì„¸ìš”. ê²°ê³¼ë„ ì¤‘ìš”í•˜ì§€ë§Œ, ì˜¤ëŠ˜ì€ â€˜ì›€ì§ì´ëŠ” ë§ˆìŒâ€™ ìì²´ê°€ ë‹¹ì‹ ì„ ë” ì¢‹ì€ ê³³ìœ¼ë¡œ ë°ë ¤ê°‘ë‹ˆë‹¤.",
    "í‰ì†Œë³´ë‹¤ ì»¨ë””ì…˜ íšŒë³µì´ ë¹ ë¥¸ ë‚ . ëª¸ì´ ê°€ë²¼ìš¸ ë•Œ ê°€ë²¼ìš´ ì •ë¦¬ë¥¼ ì‹œì‘í•˜ë©´ ë§ˆìŒë„ í•¨ê»˜ ì •ëˆë©ë‹ˆë‹¤. ë²„ë¦´ ê²ƒì€ ê³¼ê°íˆ, ë‚¨ê¸¸ ê²ƒì€ ì†Œì¤‘íˆ.",
    "ê´€ê³„ì—ì„œ ì‹ ë¢°ê°€ ë‹¨ë‹¨í•´ì§€ëŠ” ë‚ ì…ë‹ˆë‹¤. ì•½ì†ì„ ì§€í‚¤ëŠ” ì‘ì€ í–‰ë™ì´ í° ì‹ ë¢°ë¥¼ ë§Œë“­ë‹ˆë‹¤. ì˜¤ëŠ˜ì˜ í•œ ì•½ì†ì´ ë‚´ì¼ì˜ ë“ ë“ í•¨ì´ ë©ë‹ˆë‹¤.",
    "ì•„ì´ë””ì–´ê°€ ë²ˆì©ì´ëŠ” ìˆœê°„ì´ ì°¾ì•„ì˜µë‹ˆë‹¤. ë– ì˜¤ë¥´ëŠ” ìƒê°ì„ ê³§ë°”ë¡œ ë©”ëª¨í•´ ë‘ì„¸ìš”. ì˜¤ëŠ˜ì˜ ë©”ëª¨ëŠ” ë©°ì¹  ë’¤ ì‹¤ì œ ê²°ê³¼ë¡œ ì´ì–´ì§ˆ í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤.",
    "ì˜ˆìƒì¹˜ ëª»í•œ ë„ì›€ì„ ë°›ëŠ” ë‚ . ë„ì›€ì„ ë°›ì€ ë§Œí¼, ì˜¤ëŠ˜ ë‹¹ì‹ ë„ ëˆ„êµ°ê°€ì˜ ì§§ì€ ë‹¤ë¦¬ê°€ ë˜ì–´ì£¼ì„¸ìš”. ì„ ìˆœí™˜ì€ ìƒê°ë³´ë‹¤ ë¹ ë¥´ê²Œ ëŒì•„ì˜µë‹ˆë‹¤.",
    "ì§‘ì¤‘ê³¼ íœ´ì‹ì˜ ë¦¬ë“¬ì´ ì˜ ë§ëŠ” ë‚ . 45ë¶„ ì§‘ì¤‘ + 10ë¶„ íœ´ì‹ì²˜ëŸ¼ ë¦¬ë“¬ì„ ê³ ì •í•˜ë©´ ì„±ê³¼ê°€ ë˜ë ·í•˜ê²Œ ë³´ì…ë‹ˆë‹¤.",
    "ê°ì •ì˜ ê²°ì´ ë¶€ë“œëŸ¬ì›Œì§€ëŠ” ë‚ ì…ë‹ˆë‹¤. ì„œë‘ë¥´ê¸°ë³´ë‹¤ ì²œì²œíˆ, ë‹¨ë‹¨í•˜ê²Œ í•œ ê±¸ìŒ. ê·¸ ì†ë„ê°€ ì˜¤ëŠ˜ì˜ ìµœì  ì†ë„ì˜ˆìš”.",
    "ì˜¤ëœ ìˆ™ì œì˜ ë°©í–¥ì´ ë³´ì´ëŠ” ë‚ . ë‹¤ ëë‚´ë ¤ í•˜ì§€ ë§ê³  â€˜í•µì‹¬ 20%â€™ë¶€í„° êº¼ë‚´ì„¸ìš”. ì‹œì‘ì´ ì ˆë°˜ ì´ìƒì„ ë°€ì–´ì¤ë‹ˆë‹¤.",
    "ì˜¤ëŠ˜ì€ ë§ë³´ë‹¤ í–‰ë™ì´ ì„¤ë“ë ¥ì„ ê°€ì§‘ë‹ˆë‹¤. ì‘ê²Œë¼ë„ ëˆˆì— ë³´ì´ëŠ” ë³€í™”ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”. ì£¼ë³€ì˜ ì‹ ë¢°ë„ í•¨ê»˜ ì˜¬ë¼ê°‘ë‹ˆë‹¤.",
    "ì˜ì™¸ì˜ ê³³ì—ì„œ ì˜ê°ì´ ì˜µë‹ˆë‹¤. ë³´ë˜ ê¸¸ì„ í•œ ë¸”ë¡ë§Œ ë°”ê¿” ê±¸ì–´ë„ ì¶©ë¶„í•´ìš”. ë‚¯ì„  ê¸¸ì˜ ê³µê¸°ê°€ ìƒê°ì„ í™˜ê¸°í•©ë‹ˆë‹¤.",
    "ë„ì „ì„ ì‹œì‘í•˜ê¸° ì¢‹ì€ ë‚ . ì™„ë²½í•œ ì¤€ë¹„ë³´ë‹¤ ê°€ë²¼ìš´ ì‹¤í–‰ì´ ë” ë©€ë¦¬ ê°‘ë‹ˆë‹¤. ì˜¤ëŠ˜ì˜ â€˜ì‹œì‘â€™ì´ ë‚´ì¼ì˜ â€˜ì§€ì†â€™ì„ ë¶€ë¦…ë‹ˆë‹¤.",
    "ë§ˆìŒì´ ì˜ˆë¯¼í•´ì§€ê¸° ì‰¬ìš´ ë‚ ì—”, ë‚˜ë¥¼ ê°€ì¥ ì•ˆì •ì‹œí‚¤ëŠ” ì‘ì€ ë£¨í‹´ì„ êº¼ë‚´ì„¸ìš”. ê·¸ ë£¨í‹´ì´ íŠ¼íŠ¼í•œ ë°©íŒŒì œê°€ ë©ë‹ˆë‹¤.",
    "í˜‘ì—… ìš´ì´ ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤. í˜¼ìë³´ë‹¤ í•¨ê»˜í•  ë•Œ ì†ë„ê°€ ë¶™ìŠµë‹ˆë‹¤. ë„ì›€ì„ ìš”ì²­í•˜ëŠ” ìš©ê¸°ê°€ ê²°ê³¼ë¥¼ ì•ë‹¹ê¹ë‹ˆë‹¤.",
    "ì˜¤ëŠ˜ì˜ í‚¤ì›Œë“œëŠ” â€˜ì •ë¦¬â€™. ì±…ìƒ, í•¸ë“œí° ì•¨ë²”, ìƒê° ë©”ëª¨ í•œ ì¤„ë§Œ ì •ë¦¬í•´ë„ ë¨¸ë¦¿ì† ê³µê°„ì´ ë„“ì–´ì§‘ë‹ˆë‹¤.",
    "ì‘ì€ ì¹­ì°¬ì´ í° ì—ë„ˆì§€ê°€ ë©ë‹ˆë‹¤. ìŠ¤ìŠ¤ë¡œì—ê²Œë„, ì£¼ë³€ì—ê²Œë„ í•œ ë§ˆë””ì˜ ì¹­ì°¬ì„ ê±´ë„¤ë³´ì„¸ìš”. ë¶„ìœ„ê¸°ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.",
    "ì¼ì˜ ìˆœì„œë¥¼ ì¬ë°°ì¹˜í•´ ë³´ì„¸ìš”. â€˜ì‰¬ìš´ ê²ƒ â†’ ì–´ë ¤ìš´ ê²ƒâ€™ ì•„ë‹ˆë©´ â€˜ì–´ë ¤ìš´ ê²ƒ í•œ ê°œ â†’ ì‰¬ìš´ ê²ƒ ì—¬ëŸ¬ ê°œâ€™ê°€ íŠ¹íˆ ì˜ ë§ìŠµë‹ˆë‹¤.",
    "ìš´ë™ ìš´ì´ ì¢‹ì€ ë‚ . 20ë¶„ë§Œ ëª¸ì„ ì›€ì§ì—¬ë„ ë¨¸ë¦¬ê°€ ê°€ë³ê²Œ ë§‘ì•„ì§‘ë‹ˆë‹¤. ê°€ë²¼ìš´ ë•€ì´ ì˜¤ëŠ˜ì˜ ì§‘ì¤‘ë ¥ì„ ì„ ë¬¼í•©ë‹ˆë‹¤.",
    "ë¶ˆí•„ìš”í•œ ê±±ì •ì„ ëœì–´ë‚¼ ë•Œì…ë‹ˆë‹¤. í™•ì¸ ê°€ëŠ¥í•œ ê²ƒë§Œ í™•ì¸í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ë‚´ë ¤ë†“ìœ¼ì„¸ìš”. ì˜¤ëŠ˜ì€ â€˜ì„ íƒê³¼ ì§‘ì¤‘â€™ì´ ë‹µì…ë‹ˆë‹¤.",
    "ì •ë³´ê°€ ëª¨ì´ê³  ì •ë¦¬ë˜ëŠ” ë‚ . í©ì–´ì§„ ë§í¬, ìŠ¤í¬ë¦°ìƒ·ì„ í•œ í´ë”ì— ëª¨ì•„ë‘ë©´ ë‚´ì¼ì˜ ë‚˜ê°€ í¬ê²Œ ê³ ë§ˆì›Œí•  ê±°ì˜ˆìš”.",
    "ë°°ìš°ê³  ì‹¶ì€ ê²ƒì´ ë³´ì´ëŠ” ë‚ . ê²€ìƒ‰ í•œ ë²ˆ, íŠœí† ë¦¬ì–¼ 1í¸ë§Œ ë´ë„ ì¶©ë¶„í•œ ì¶œë°œì´ ë©ë‹ˆë‹¤. ì‘ì€ ì‹œì‘ì´ ê³§ ë™ë ¥ì´ ë©ë‹ˆë‹¤.",
    "ì£¼ë³€ ì •ë¦¬ê°€ ìš´ì„¸ë¥¼ ëŒì–´ì˜¬ë¦½ë‹ˆë‹¤. ì»µ í•˜ë‚˜ ì”»ê³ , ë©”ëª¨ í•œ ì¥ ë²„ë¦¬ê³ , íƒë°° ìƒì í•˜ë‚˜ ì ‘ëŠ” ê²ƒë¶€í„°.",
    "ëŒ€í™” ìš´ì´ íŠ¸ì…ë‹ˆë‹¤. ì†”ì§í•˜ë˜ ë¶€ë“œëŸ½ê²Œ ë§í•˜ë©´ ìƒëŒ€ì˜ ë§ˆìŒë„ ìì—°ìŠ¤ë ˆ ì—´ë¦½ë‹ˆë‹¤.",
    "ëª©í‘œë¥¼ ìˆ«ìë¡œ ë°”ê¿”ë³´ì„¸ìš”. â€˜ëŒ€ì¶©â€™ì´ â€˜í•˜ë£¨ 15ë¶„â€™ì´ ë˜ëŠ” ìˆœê°„ ì‹¤í–‰ë¥ ì´ ê¸‰ê²©íˆ ì˜¬ë¼ê°‘ë‹ˆë‹¤.",
    "ì˜¤ëŠ˜ì€ íœ´ì‹ì´ ê³§ ì‘ì—…ì…ë‹ˆë‹¤. ì‰¬ëŠ” ì‹œê°„ì„ ì¼ì •ì— ì ì–´ ë„£ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ìƒì‚°ì„±ì´ ì‚´ì•„ë‚©ë‹ˆë‹¤.",
    "ê¸°íšŒê°€ ì‚¬ëŒì„ í†µí•´ ë“¤ì–´ì˜µë‹ˆë‹¤. ì˜¤ëœë§Œì˜ ì•ˆë¶€ ì¸ì‚¬ê°€ ì˜ì™¸ì˜ ì—°ê²°ì„ ë§Œë“­ë‹ˆë‹¤.",
    "ë¦¬ë“¬ì„ ë°”ê¾¸ë©´ ê²°ê³¼ê°€ ë°”ë€ë‹ˆë‹¤. í‰ì†Œì™€ ë‹¤ë¥¸ ì‹œê°„ì— ì‹œì‘í•´ ë³´ì„¸ìš”â€”ì‘ì€ ì°¨ì´ê°€ í° ë³€í™”ë¥¼ ë§Œë“­ë‹ˆë‹¤.",
    "ê³¼ê°íˆ NOë¼ê³  ë§í•´ë„ ê´œì°®ì€ ë‚ . ë‚˜ë¥¼ ì§€í‚¤ëŠ” ì„ íƒì´ ê¸¸ê²Œ ë³´ë©´ ëª¨ë‘ì—ê²Œ ì´ë¡­ìŠµë‹ˆë‹¤.",
    "ê°ì‚¬ ì¼ê¸°ë¥¼ ì“°ê¸° ì¢‹ì€ ë‚ . ì„¸ ê°€ì§€ë¥¼ ì ì–´ë³´ë©´ ë§ˆìŒì˜ ì•ˆìª½ì´ ë”°ëœ»í•´ì§‘ë‹ˆë‹¤.",
    "ì‘ì—… ê³µê°„ì˜ ì¡°ëª…ì´ ì„±ê³¼ë¥¼ ì¢Œìš°í•©ë‹ˆë‹¤. ìì—°ê´‘ì— ê°€ê¹Œìš´ ë¹›ìœ¼ë¡œ ë°”ê¿”ë³´ì„¸ìš”.",
    "ë°°ì›€ì˜ ë¬¸ì¥ì„ ì†Œë¦¬ ë‚´ì–´ ì½ì–´ë³´ì„¸ìš”. ì…ìœ¼ë¡œ ì§€ë‚˜ê°ˆ ë•Œ ë” ì˜¤ë˜ ë‚¨ìŠµë‹ˆë‹¤.",
    "ì˜¤ëŠ˜ì˜ í–‰ìš´ì€ â€˜ì •ì§í•¨â€™ì—ì„œ ì˜µë‹ˆë‹¤. ê²°ê³¼ê°€ ëŠë ¤ ë³´ì—¬ë„ íƒ„íƒ„íˆ ìŒ“ì…ë‹ˆë‹¤.",
    "ì§€ë‚˜ì¹œ ë¹„êµëŠ” ì—ë„ˆì§€ë¥¼ ë–¨ì–´ëœ¨ë¦½ë‹ˆë‹¤. ì–´ì œì˜ ë‚˜ì™€ë§Œ ë¹„êµí•´ ë³´ì„¸ìš”.",
    "ì‘ì€ ì„ ë¬¼ì´ í–‰ìš´ì„ ë¶€ë¦…ë‹ˆë‹¤. ì»¤í”¼ í•œ ì”, ë”°ëœ»í•œ ë©”ì‹œì§€ í•œ ì¤„ì´ë©´ ì¶©ë¶„í•´ìš”.",
    "ë¶ˆí™•ì‹¤í•¨ì„ ë‘ë ¤ì›Œí•˜ì§€ ë§ˆì„¸ìš”. í•´ë³´ë©´ ìƒê°ë³´ë‹¤ ì–´ë µì§€ ì•Šë‹¤ëŠ” ê±¸ ì•Œê²Œ ë©ë‹ˆë‹¤.",
    "ì˜¤ëŠ˜ì˜ í‚¤ì›Œë“œ: ê¾¸ì¤€í•¨. ì¡°ê¸ˆì”©ì´ë¼ë„ ê³„ì†í•˜ë©´, ê³§ ìˆ«ìê°€ ë§ì„ í•©ë‹ˆë‹¤.",
    "ê°€ë”ì€ ìš°íšŒê°€ ì§€ë¦„ê¸¸ì…ë‹ˆë‹¤. ëŒì•„ê°€ëŠ” ê¸¸ì—ì„œ ë” ì¢‹ì€ í’ê²½ì„ ë§Œë‚˜ê²Œ ë©ë‹ˆë‹¤."
  ];

  // í‚¤ì›Œë“œ/ìŒë£Œ
  const directions = ["ë™ìª½","ì„œìª½","ë‚¨ìª½","ë¶ìª½","ë™ë‚¨ìª½","ì„œë‚¨ìª½","ë™ë¶ìª½","ì„œë¶ìª½"];
  const colors = ["ë§ì°¨ í¬ë ˆìŠ¤íŠ¸","ë¡œì¦ˆ í•‘í¬","í”¼ì¹˜ ì˜¤ë Œì§€","ë°”ë‹ë¼ í¬ë¦¼","í•˜ëŠ˜ ë¯¼íŠ¸","ì´ˆì½” ë¸Œë¼ìš´"];
  const colorHex = {
    "ë§ì°¨ í¬ë ˆìŠ¤íŠ¸":"#2e7d32",
    "ë¡œì¦ˆ í•‘í¬":"#f472b6",
    "í”¼ì¹˜ ì˜¤ë Œì§€":"#fb923c",
    "ë°”ë‹ë¼ í¬ë¦¼":"#f5e6c8",
    "í•˜ëŠ˜ ë¯¼íŠ¸":"#99f6e4",
    "ì´ˆì½” ë¸Œë¼ìš´":"#6b3f2a"
  };
  const foods  = ["ì†Œê°ˆë¹„","íŒŒìŠ¤íƒ€","ë§ˆì¹´ë¡±","ì—°ì–´ìƒëŸ¬ë“œ","ê¹€ì¹˜ë³¶ìŒë°¥","í¬ë£¨ì•„ìƒ"];
  const drinks = [
    {name:"ë””ì¹´í˜ì¸ í•‘í¬ì¹´í˜ë¼ë–¼", img:"https://picsum.photos/seed/pink/240", note:"ë¶€ë‹´ ì—†ì´ ë‹¬ì½¤í•˜ê²Œ"},
    {name:"ë§ì°¨ í¬ë¦¼ë¼ë–¼", img:"https://picsum.photos/seed/matcha/240", note:"ê³ ì†Œí•˜ê³  ë¶€ë“œëŸ½ê²Œ"},
    {name:"ìëª½ì—ì´ë“œ", img:"https://picsum.photos/seed/grapefruit/240", note:"ìƒí¼í•˜ê²Œ ë¦¬í”„ë ˆì‹œ"},
    {name:"í—¤ì´ì¦ë„› ë¼ë–¼", img:"https://picsum.photos/seed/hazel/240", note:"ê³ ì†Œí•œ ë°ì¼ë¦¬ ì»µ"},
    {name:"ë°”ë‹ë¼ ì½œë“œë¸Œë£¨", img:"https://picsum.photos/seed/vanilla/240", note:"ê¹”ë”í•œ ì—¬ìš´"},
    {name:"ì´ˆì½” ë¸Œë¼ìš°ë‹ˆ í”„ë¼í˜", img:"https://picsum.photos/seed/choco/240", note:"ì§„í•œ ë‹¹ì¶©ì „"}
  ];

  // ---- í•´ì‹œ/ë‚œìˆ˜ & ëª¨ë“œ ----
  function strHash(s){let h=2166136261>>>0;for(let i=0;i<s.length;i++){h^=s.charCodeAt(i);h=(h*16777619)>>>0;}return h>>>0;}
  function mulberry32(a){return function(){a|=0;a=a+0x6D2B79F5|0;let t=Math.imul(a^a>>>15,1|a);t=t+Math.imul(t^t>>>7,61|t)^t;return((t^t>>>14)>>>0)/4294967296;};}
  const baseSeed = `${shop}|${todayStr}` + (useShuffle ? `|${Math.random()}` : '');
  const seed = strHash(baseSeed);
  const rand = mulberry32(seed);
  const pick = arr => arr[Math.floor(rand()*arr.length)];
  const randInt = (min,max)=> Math.floor(rand()*(max-min+1))+min;

  // í™•ì¸ì½”ë“œëŠ” í•˜ë£¨ ê³ ì •
  const stableSeed = strHash(`${shop}|${todayStr}`);
  const dailyCode = String((stableSeed % 1000000 + 1000000) % 1000000).padStart(6,'0');

  // ---- ê²°ê³¼ ìƒì„± ----
  const fortune = pick(fortunes);
  const scores = [
    {label:"ê¸ˆì „", val: randInt(70,98)},
    {label:"ì§ì¥", val: randInt(60,95)},
    {label:"ì• ì •", val: randInt(65,100)},
    {label:"í•™ì—…", val: randInt(60,95)},
    {label:"ê±´ê°•", val: randInt(70,99)},
  ];
  const kw = { number: randInt(1,9), dir: pick(directions), color: pick(colors), food: pick(foods) };
  const drink = pick(drinks);

  // ---- 3ì¼ ìœ íš¨ì¼ ----
  const valid = new Date(Date.UTC(yyyy, Number(mm)-1, Number(dd)));
  valid.setUTCDate(valid.getUTCDate()+3);
  const vyyyy=valid.getUTCFullYear(), vmm=String(valid.getUTCMonth()+1).padStart(2,'0'), vdd=String(valid.getUTCDate()).padStart(2,'0');
  const validStr = `${vyyyy}-${vmm}-${vdd}`;

  // ---- ë Œë” ----
  document.getElementById('fortuneText').textContent = fortune;
  document.getElementById('validUntil').textContent = `${validStr} 23:59`;
  document.getElementById('validUntil2').textContent = validStr;
  document.getElementById('dailyCode').textContent = dailyCode;

  document.getElementById('kwNumber').textContent = kw.number;
  document.getElementById('kwDir').textContent = kw.dir;

  // ì»¬ëŸ¬: ìŠ¤ì™€ì¹˜ + ì´ë¦„
  const colorEl = document.getElementById('kwColor');
  const sw = document.createElement('span');
  sw.className = 'swatch';
  sw.style.background = colorHex[kw.color] || '#aaa';
  colorEl.appendChild(sw);
  const txt = document.createElement('span');
  txt.textContent = kw.color;
  colorEl.appendChild(txt);

  document.getElementById('kwFood').textContent = kw.food;

  document.getElementById('drinkName').textContent = drink.name;
  document.getElementById('drinkImg').src = drink.img;
  document.getElementById('drinkNote').textContent = drink.note;

  document.getElementById('shopId').textContent = shop;
  document.getElementById('nowKST').textContent =
    `${todayStr} ${String(nowKST.getUTCHours()).padStart(2,'0')}:${String(nowKST.getUTCMinutes()).padStart(2,'0')}:${String(nowKST.getUTCSeconds()).padStart(2,'0')} (KST)`;

  // ì ìˆ˜ ë°”
  const holder = document.getElementById('scores');
  scores.forEach(s=>{
    const row = document.createElement('div'); row.className='row';
    row.innerHTML = `<div>${s.label}</div><div>${s.val}ì </div>`;
    const bar = document.createElement('div'); bar.className='bar';
    const fill = document.createElement('div'); fill.className='fill'; fill.style.width=`${s.val}%`;
    bar.appendChild(fill);
    holder.appendChild(row); holder.appendChild(bar);
  });

  // ê³µìœ  ë²„íŠ¼ (Web Share â†’ ë³µì‚¬ í´ë°±)
  const shareBtn = document.getElementById('shareBtn');
  const shareUrl = location.href;
  const shareText = `í˜„ì¬ì˜ ê³µê°„ ì˜¤ëŠ˜ì˜ ìš´ì„¸ âœ¨\ní™•ì¸ì½”ë“œ: ${dailyCode}\nìœ íš¨ê¸°ê°„: ${validStr} 23:59\n${shareUrl}`;
  shareBtn.addEventListener('click', async ()=>{
    if (navigator.share) {
      try{ await navigator.share({ title:"í˜„ì¬ì˜ ê³µê°„ â€” ì˜¤ëŠ˜ì˜ ìš´ì„¸", text:shareText, url:shareUrl }); }catch(e){}
    } else {
      try{
        await navigator.clipboard.writeText(shareText);
        shareBtn.textContent="ë§í¬ ë³µì‚¬ ì™„ë£Œ";
        setTimeout(()=>shareBtn.textContent="ê³µìœ í•˜ê¸°",1200);
      }catch{
        alert("ê³µìœ ê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” í™˜ê²½ì…ë‹ˆë‹¤.\nì•„ë˜ ì£¼ì†Œë¥¼ ë³µì‚¬í•´ ì£¼ì„¸ìš”:\n\n"+shareUrl);
      }
    }
  });
})();
</script>
</body>
</html>
